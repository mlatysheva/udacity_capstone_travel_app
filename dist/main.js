var Client=function(t){var e={};function n(o){if(e[o])return e[o].exports;var a=e[o]={i:o,l:!1,exports:{}};return t[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(o,a,function(e){return t[e]}.bind(null,a));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);const o=async(t="Paris",e)=>{let n=await Client.duration(e);console.log(n);let o=await Client.geonames(t);console.log(o);let a=await Client.weatherbit(o.longitude,o.latitude,n);console.log(a);let r=await Client.pixabay(t,o.country);const i={city:t,country:o.country,duration:n,longitude:o.longitude,latitude:o.longitude,max_temp:a.max_temp,min_temp:a.min_temp,weather_desc:a.precip,imageUrl:r};return console.log(i),i};function a(t){if(console.log(": Running checkInput :",t),""===t)return alert("The input is empty, enter a valid city!"),!1}async function r(t){t.preventDefault();let e=document.getElementById("city").value;console.log(`The city is ${e}`);let n=document.getElementById("date").value;console.log(`The departure date is ${n}.`);let o=(new Date).toLocaleDateString();console.log(`Today's date is ${o}`),Client.checkInput(e),console.log("Form Submitted");let a=await Client.travelApp(e,n);console.log(a),document.getElementById("city-country").innerHTML=`${a.city}, ${a.country} is`,document.getElementById("duration").innerHTML=`${a.duration} days away.`,document.getElementById("temperature").innerHTML=`High is: ${a.max_temp}, Low is: ${a.min_temp}`,document.getElementById("weather").innerHTML=`The precipitation index is ${a.weather_desc}.`,document.getElementById("city-image").src=a.imageUrl,await i("http://localhost:8081/trip",{userData:a})}const i=async(t="",e={})=>{const n=await fetch(t,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});try{const t=await n.json();return console.log(t),t}catch(t){console.log("error",t)}};function c(t){const e=new Date;t=new Date(t);const n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),o=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.floor((o-n)/864e5)}const l=async t=>{const e="http://api.geonames.org/searchJSON?q="+t+"&maxRows=1&username=mlatysheva";try{const t=await fetch(e),n=await t.json(),o={longitude:n.geonames[0].lng,latitude:n.geonames[0].lat,country:n.geonames[0].countryName};return console.log(o),o}catch(t){console.log("error",t)}},u=async(t,e,n)=>{const o="https://api.weatherbit.io/v2.0/forecast/daily?"+("&lat="+e+"&lon="+t+"&days="+n+"&key=")+"90151fcc483c4a0e8d89cec631ff5381";try{const t=await fetch(o),e=await t.json(),a=await e.data[n-1];return console.log(a),{max_temp:a.max_temp,min_temp:a.min_temp,precip:a.precip}}catch(t){console.log(t)}},s=async(t,e)=>{const n="https://pixabay.com/api/?key=16563560-96393db758b1386eb9e57f9fa"+("&q="+t+"+"+e+"&image_type=photo&orientation=horizontal&category=places&per_page=3");try{const t=await fetch(n);let e=(await t.json()).hits[0].webformatURL;return console.log(e),e}catch(t){console.log("error",t)}};n(0),n(1),n(2),n(3);n.d(e,"travelApp",function(){return o}),n.d(e,"checkInput",function(){return a}),n.d(e,"handleSubmit",function(){return r}),n.d(e,"duration",function(){return c}),n.d(e,"geonames",function(){return l}),n.d(e,"weatherbit",function(){return u}),n.d(e,"pixabay",function(){return s}),alert("I EXIST");const d=document.getElementById("submit-button");d.addEventListener("click",r),d.addEventListener("click",a)}]);